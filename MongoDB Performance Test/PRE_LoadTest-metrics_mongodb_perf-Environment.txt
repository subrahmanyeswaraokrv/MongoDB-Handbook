touadmin@mongodb-02:~$ ===================================================================================================================================
touadmin@mongodb-02:~$ **********************        PRE PERFORMANCE LOADTEST METRICS ON PERFORMANCE ENVIRONMENT - MONGODB       *************************
touadmin@mongodb-02:~$ ===================================================================================================================================
touadmin@mongodb-02:~$ Throughput (Ops/sec) :
touadmin@mongodb-02:~$ ----------------------
touadmin@mongodb-02:~$ mongostat -u superAdmin -p  $mongopwd  "" --authenticationDatabase admin
2025-02-26T10:15:34.265+0530    WARNING: On some systems, a password provided directly using --password may be visible to system status programs such as `ps` that may be invoked by other users. Consider omitting the password to provide it via stdin, or using the --config option to specify a configuration file with the password.
insert query update delete getmore command dirty  used flushes vsize   res qrw arw net_in net_out conn     set repl                time
    *0  1990     *0     *0       0     7|0  0.1% 76.9%       0 8.52G 5.59G 0|0 1|0   507k   1.78m  102 touprd0  SLV Feb 26 10:15:36.285
    *0  1956     *0     *0       0    15|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   500k   1.75m  102 touprd0  SLV Feb 26 10:15:37.284
    *0  1939     *0     *0       0     8|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   494k   1.73m  102 touprd0  SLV Feb 26 10:15:38.290
    *0  1957     *0     *0       0    10|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   499k   1.75m  102 touprd0  SLV Feb 26 10:15:39.285
    *0  1866     *0     *0       2    13|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   480k   1.67m  102 touprd0  SLV Feb 26 10:15:40.284
    *0  1912     *0     *0       0     4|0  0.1% 76.9%       0 8.52G 5.59G 1|0 0|0   487k   1.71m  102 touprd0  SLV Feb 26 10:15:41.285
    *0  1980     *0     *0       0     7|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   504k   1.77m  102 touprd0  SLV Feb 26 10:15:42.284
    *0  1832     *0     *0       0     9|0  0.0% 76.9%       1 8.52G 5.59G 0|0 0|0   467k   1.64m  102 touprd0  SLV Feb 26 10:15:43.284
    *0  1901     *0     *0       0    10|0  0.0% 76.9%       0 8.52G 5.59G 0|0 0|0   484k   1.70m  102 touprd0  SLV Feb 26 10:15:44.284
    *0  1921     *0     *0       0    12|0  0.0% 76.9%       0 8.52G 5.59G 0|0 0|0   492k   1.72m  102 touprd0  SLV Feb 26 10:15:45.284
insert query update delete getmore command dirty  used flushes vsize   res qrw arw net_in net_out conn     set repl                time
    *0  1951     *0     *0       0     6|0  0.0% 76.9%       0 8.52G 5.59G 0|0 0|0   497k   1.74m  102 touprd0  SLV Feb 26 10:15:46.284
    *0  1960     *0     *0       0    14|0  0.0% 76.9%       0 8.52G 5.59G 0|0 0|0   501k   1.75m  102 touprd0  SLV Feb 26 10:15:47.285
    *0  1950     *0     *0       0     8|0  0.0% 76.9%       0 8.52G 5.59G 1|0 0|0   497k   1.74m  102 touprd0  SLV Feb 26 10:15:48.284
    *0  1995     *0     *0       0    11|0  0.0% 76.9%       0 8.52G 5.59G 0|0 0|0   509k   1.78m  102 touprd0  SLV Feb 26 10:15:49.284
    *0  1866     *0     *0       1    12|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   480k   1.67m  102 touprd0  SLV Feb 26 10:15:50.284
    *0  1887     *0     *0       0     4|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   481k   1.69m  102 touprd0  SLV Feb 26 10:15:51.285
    *0  1979     *0     *0       0     6|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   504k   1.77m  102 touprd0  SLV Feb 26 10:15:52.285
    *0  1901     *0     *0       0     9|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   485k   1.70m  102 touprd0  SLV Feb 26 10:15:53.284
    *0  1839     *0     *0       0     9|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   469k   1.65m  102 touprd0  SLV Feb 26 10:15:54.284
    *0  1896     *0     *0       1    14|0  0.1% 76.9%       0 8.52G 5.59G 0|0 0|0   486k   1.70m  102 touprd0  SLV Feb 26 10:15:55.284
2025-02-26T10:15:55.769+0530    signal 'interrupt' received; forcefully terminating
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Latency (Response Time) :
touadmin@mongodb-02:~$ ------------------------
touadmin@mongodb-02:~$ mongotop -u superAdmin -p  $mongopwd --authenticationDatabase admin
2025-02-26T10:16:26.647+0530    WARNING: On some systems, a password provided directly using --password may be visible to system status programs such as `ps` that may be invoked by other users. Consider omitting the password to provide it via stdin, or using the --config option to specify a configuration file with the password.
2025-02-26T10:16:26.662+0530    connected to: mongodb://localhost/

                  ns    total    read    write    2025-02-26T10:16:27+05:30
         touprd.c000     62ms    62ms      0ms
         touprd.c203     62ms    62ms      0ms
admin.$cmd.aggregate      0ms     0ms      0ms
      admin.atlascli      0ms     0ms      0ms
     admin.pbmConfig      0ms     0ms      0ms
   admin.system.keys      0ms     0ms      0ms
admin.system.profile      0ms     0ms      0ms
  admin.system.users      0ms     0ms      0ms
admin.system.version      0ms     0ms      0ms
  config.collections      0ms     0ms      0ms

                  ns    total    read    write    2025-02-26T10:16:28+05:30
         touprd.c000     64ms    64ms      0ms
         touprd.c203     63ms    63ms      0ms
admin.$cmd.aggregate      0ms     0ms      0ms
      admin.atlascli      0ms     0ms      0ms
     admin.pbmConfig      0ms     0ms      0ms
   admin.system.keys      0ms     0ms      0ms
admin.system.profile      0ms     0ms      0ms
  admin.system.users      0ms     0ms      0ms
admin.system.version      0ms     0ms      0ms
  config.collections      0ms     0ms      0ms

                  ns    total    read    write    2025-02-26T10:16:29+05:30
         touprd.c000     61ms    61ms      0ms
         touprd.c203     60ms    60ms      0ms
admin.$cmd.aggregate      0ms     0ms      0ms
      admin.atlascli      0ms     0ms      0ms
     admin.pbmConfig      0ms     0ms      0ms
   admin.system.keys      0ms     0ms      0ms
admin.system.profile      0ms     0ms      0ms
  admin.system.users      0ms     0ms      0ms
admin.system.version      0ms     0ms      0ms
  config.collections      0ms     0ms      0ms

                  ns    total    read    write    2025-02-26T10:16:30+05:30
         touprd.c000     64ms    64ms      0ms
         touprd.c203     63ms    63ms      0ms
admin.$cmd.aggregate      0ms     0ms      0ms
      admin.atlascli      0ms     0ms      0ms
     admin.pbmConfig      0ms     0ms      0ms
   admin.system.keys      0ms     0ms      0ms
admin.system.profile      0ms     0ms      0ms
  admin.system.users      0ms     0ms      0ms
admin.system.version      0ms     0ms      0ms
  config.collections      0ms     0ms      0ms

                  ns    total    read    write    2025-02-26T10:16:31+05:30
         touprd.c000     59ms    59ms      0ms
         touprd.c203     58ms    58ms      0ms
admin.$cmd.aggregate      0ms     0ms      0ms
      admin.atlascli      0ms     0ms      0ms
     admin.pbmConfig      0ms     0ms      0ms
   admin.system.keys      0ms     0ms      0ms
admin.system.profile      0ms     0ms      0ms
  admin.system.users      0ms     0ms      0ms
admin.system.version      0ms     0ms      0ms
  config.collections      0ms     0ms      0ms

2025-02-26T10:16:32.578+0530    signal 'interrupt' received; forcefully terminating
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Database Stats :
touadmin@mongodb-02:~$ ----------------
touadmin@mongodb-02:~$  mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval 'printjson({ db: db.getName(), collections: db.stats().collections, views: db.stats().views, objects: db.stats().objects, avgObjSize: db.stats().avgObjSize, dataSize: db.stats().dataSize, storageSize: db.stats().storageSize, indexes: db.stats().indexes, indexSize: db.stats().indexSize, totalSize: db.stats().totalSize, scaleFactor: db.stats().scaleFactor, fsUsedSize: db.stats().fsUsedSize, fsTotalSize: db.stats().fsTotalSize })'
{
  db: 'test',
  collections: Long('0'),
  views: Long('0'),
  objects: Long('0'),
  avgObjSize: 0,
  dataSize: 0,
  storageSize: 0,
  indexes: Long('0'),
  indexSize: 0,
  totalSize: 0,
  scaleFactor: Long('1'),
  fsUsedSize: 0,
  fsTotalSize: 0
}
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Connections :
touadmin@mongodb-02:~$ -------------
touadmin@mongodb-02:~$ mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval "db.serverStatus().connections"
{
  current: 103,
  available: 51097,
  totalCreated: 259604,
  rejected: 0,
  active: 37,
  threaded: 103,
  exhaustIsMaster: 0,
  exhaustHello: 35,
  awaitingTopologyChanges: 35
}
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Indexes :
touadmin@mongodb-02:~$ ------------
touadmin@mongodb-02:~$ mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval '
> db = db.getSiblingDB("touprd");
> print("| Collection Name                           | Indexes                                                                         |");
> print("|----------------------------------- --|-----------------------------------------------------------|");
> db.getCollectionNames().forEach(function(collection) {
> var indexes = db[collection].getIndexes();
> var indexDetails = indexes.length === 1
> ? "Only default index (_id_)"
> : indexes.map(function(index) { return JSON.stringify(index); }).join(", ");
>  print("| " + collection.padEnd(25) + " | " + indexDetails.padEnd(46) + " |");
>  });'
| Collection Name                           | Indexes                                                                         |
|----------------------------------- --|-----------------------------------------------------------|
| s001_merchant_tl          | Only default index (_id_)                      |
| c400_SUN_20_24            | Only default index (_id_)                      |
| c004                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0005":1},"name":"d0005"}, {"v":2,"key":{"d0006":1},"name":"d0006"}, {"v":2,"key":{"d0007":1},"name":"d0007"}, {"v":2,"key":{"d0008":1},"name":"d0008"} |
| tempStore                 | Only default index (_id_)                      |
| s001_schemedestination    | Only default index (_id_)                      |
| c064                      | Only default index (_id_)                      |
| dm002                     | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"dm002":1},"name":"dm002"} |
| c026                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0003":1},"name":"d0003"}, {"v":2,"key":{"d0004":1},"name":"d0004"}, {"v":2,"key":{"d0005":1},"name":"d0005"}, {"v":2,"key":{"d0006":1},"name":"d0006"}, {"v":2,"key":{"d0007":1},"name":"d0007"}, {"v":2,"key":{"d0008":1},"name":"d0008"}, {"v":2,"key":{"establishmentIdProof2":1},"name":"establishmentIdProof2"}, {"v":2,"key":{"d0009":1},"name":"d0009"}, {"v":2,"key":{"d0010":1},"name":"d0010"} |
| c400_WED_08_12            | Only default index (_id_)                      |
| c400_WED_04_08            | Only default index (_id_)                      |
| s001_merchantreject       | Only default index (_id_)                      |
| tempCBSStore              | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0001":1,"d0002":1,"d0006":1},"name":"record_merchant_debitaccnum_idx"}, {"v":2,"key":{"d0001":1,"d0002":1},"name":"record_merchant_idx"} |
| c098                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"f0007":1},"name":"f0007"}, {"v":2,"key":{"f0056":1},"name":"f0056"}, {"v":2,"key":{"f0057":1},"name":"f0057"}, {"v":2,"key":{"f0056":1,"f0044":1},"name":"transaction_refnum_terminal_number_idx"}, {"v":2,"key":{"f0056":1,"f0044":1,"txnId":1,"txnTime":1},"name":"txn_refnum_terminal_txnid_txntime_idx"}, {"v":2,"key":{"f0056":1,"f0044":1,"f0027":1,"last4Digit":1,"txnTime":1},"name":"txn_refnum_terminal_cardbin_last4_txntime_idx"}, {"v":2,"key":{"f0045":1,"f0060":1,"pd073":1},"name":"merchant_payrun_dbOrcr_to_merchant_idx"} |
| c039                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"f0010":1},"name":"f0010"}, {"v":2,"key":{"f0008":1},"name":"f0008"}, {"v":2,"key":{"f0009":1},"name":"f0009"}, {"v":2,"key":{"f0013":1},"name":"f0013"} |
| c028_FRI                  | Only default index (_id_)                      |
| c046                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0241":1,"allianceOrgKey":1},"name":"consumermerchant_ao_idx"}, {"v":2,"key":{"d0229.offerCode":1,"_id":1},"name":"offer_id"}, {"v":2,"key":{"d0229.offerCode":1,"d0229.enrollDate":1},"name":"offer_enrollDate"}, {"v":2,"key":{"d0002":1,"d0148":1},"name":"merNum_boardingDate"}, {"v":2,"key":{"d0002":1},"name":"d0002"}, {"v":2,"key":{"d0148":1},"name":"d0148"}, {"v":2,"key":{"d0229":1},"name":"d0229"}, {"v":2,"key":{"d0241":1},"name":"d0241"}, {"v":2,"key":{"d0229.offerCode":1,"d0002":1},"name":"offer_modelKey"}, {"v":2,"key":{"d0026":1},"name":"d0026"}, {"v":2,"key":{"d0157":1},"name":"d0157"} |
| c400_THU_16_20            | Only default index (_id_)                      |
| c400_SUN_12_16            | Only default index (_id_)                      |
| c203                      | Only default index (_id_)                      |
| c088                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"a005":1,"a001":1},"name":"c088rrn_terminalModelKey"}, {"v":2,"key":{"a005":1,"a002":1},"name":"c088rrn_terminalNumber"}, {"v":2,"key":{"a001":1},"name":"a001"}, {"v":2,"key":{"a002":1},"name":"a002"}, {"v":2,"key":{"a003":1},"name":"a003"}, {"v":2,"key":{"a004":1},"name":"a004"}, {"v":2,"key":{"a005":1},"name":"a005"}, {"v":2,"key":{"a008":1},"name":"a008"}, {"v":2,"key":{"a026":1},"name":"a026"}, {"v":2,"key":{"a035":1,"a002":1},"name":"c088originalRrn_terminalNumber"} |
| c094                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0002":1},"name":"d0002"} |
| c040                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"f0007":1},"name":"f0007"}, {"v":2,"key":{"f0056":1},"name":"f0056"}, {"v":2,"key":{"f0057":1},"name":"f0057"} |
| cs038                     | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"cs001":1},"name":"cs001"}, {"v":2,"key":{"cs002":1},"name":"cs002"}, {"v":2,"key":{"cs003":1},"name":"cs003","unique":true}, {"v":2,"key":{"cs004":1},"name":"cs004","unique":true}, {"v":2,"key":{"cs005":1},"name":"cs005"}, {"v":2,"key":{"cs006":1},"name":"cs006"}, {"v":2,"key":{"cs007":1},"name":"cs007"}, {"v":2,"key":{"cs008":1},"name":"cs008"}, {"v":2,"key":{"cs009":1},"name":"cs009"}, {"v":2,"key":{"cs020":1},"name":"cs020"}, {"v":2,"key":{"cs026.f0007":1},"name":"cs026.f0007"}, {"v":2,"key":{"cs026.f0056":1},"name":"cs026.f0056"}, {"v":2,"key":{"cs026.f0057":1},"name":"cs026.f0057"}, {"v":2,"key":{"cs026":1},"name":"cs026"}, {"v":2,"key":{"cs027.p008":1},"name":"cs027.p008"} |
| c400_WED_12_16            | Only default index (_id_)                      |
| c028_SAT                  | Only default index (_id_)                      |
| s001_terminal             | Only default index (_id_)                      |
| s001_merchantdomain       | Only default index (_id_)                      |
| c078                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"co0001":1},"name":"co0001","unique":true} |
| s001_merchantchain        | Only default index (_id_)                      |
| c003                      | Only default index (_id_)                      |
| c085                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"p20":1,"allianceOrgKey":1},"name":"c85terminalnumber_ao_idx"}, {"v":2,"key":{"p22":1,"allianceOrgKey":1},"name":"c85merchantnumber_ao_idx"} |
| c400_SUN_08_12            | Only default index (_id_)                      |
| c077                      | Only default index (_id_)                      |
| cs012                     | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"ip008":1,"ip005":1,"ip007":1},"name":"ip008_1_ip005_1_ip007_1"}, {"v":2,"key":{"ip001":1},"name":"ip001"}, {"v":2,"key":{"ip006":1},"name":"ip006"}, {"v":2,"key":{"ip013":1},"name":"ip013"} |
| c000                      | Only default index (_id_)                      |
| c400_TUE_20_24            | Only default index (_id_)                      |
| c075                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"a001":1},"name":"a001"}, {"v":2,"key":{"a002":1},"name":"a002"}, {"v":2,"key":{"a003":1},"name":"a003"}, {"v":2,"key":{"a004":1},"name":"a004"}, {"v":2,"key":{"a005":1},"name":"a005"}, {"v":2,"key":{"a011":1},"name":"a011"}, {"v":2,"key":{"a010.d068":1},"name":"a010.d068"}, {"v":2,"key":{"a010.d0097":1},"name":"a010.d0097"} |
| c066                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"b0003":1},"name":"b0003"} |
| c400_THU_20_24            | Only default index (_id_)                      |
| s001                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"f0001":1,"f0003":1},"name":"model_modelkey_idx"}, {"v":2,"key":{"_fts":"text","_ftsx":1},"name":"Search_TextIndex","weights":{"f0004":1,"f0005":1,"f0006":1,"f0007":1,"f0008":1,"f0009":1,"f0010":1,"f0011":1,"f0012":1,"f0013":1,"f0014":1,"f0015":1,"f0016":1,"f0017":1,"f0018":1,"f0019":1,"f0020":1,"f0021":1,"f0022":1,"f0023":1},"default_language":"english","language_override":"language","textIndexVersion":3}, {"v":2,"key":{"f0001":1},"name":"f0001"}, {"v":2,"key":{"f0003":1},"name":"f0003"} |
| c028_WED                  | Only default index (_id_)                      |
| c080                      | Only default index (_id_)                      |
| c400_THU_12_16            | Only default index (_id_)                      |
| c053                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"f0056":1,"f0044":1},"name":"c053transactionRefNum_terminalNumber_idx"}, {"v":2,"key":{"f0007":1},"name":"f0007"}, {"v":2,"key":{"f0056":1},"name":"f0056"}, {"v":2,"key":{"f0057":1},"name":"f0057"} |
| c025                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d6":1},"name":"d6"} |
| c400_TUE_08_12            | Only default index (_id_)                      |
| s001_control              | Only default index (_id_)                      |
| c032                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"p1":1},"name":"p1"}, {"v":2,"key":{"p2":1},"name":"p2"}, {"v":2,"key":{"p5":1},"name":"p5"} |
| c400_THU_08_12            | Only default index (_id_)                      |
| c400_MON_20_24            | Only default index (_id_)                      |
| c047                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0001":1},"name":"d0001"}, {"v":2,"key":{"d0002":1},"name":"d0002"}, {"v":2,"key":{"d0009":1},"name":"d0009"}, {"v":2,"key":{"d0027":1},"name":"d0027"} |
| c018                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0002":1,"d0003":1},"name":"type_value_idx"}, {"v":2,"key":{"d0002":1,"d0003":1,"allianceOrgKey":1},"name":"type_value_ao_idx"} |
| c024                      | Only default index (_id_)                      |
| s001_data_download        | Only default index (_id_)                      |
| c060                      | Only default index (_id_)                      |
| c400_MON_08_12            | Only default index (_id_)                      |
| c083                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"mtl1":1,"mtl3":1},"name":"merchantModelKey_tlModelKey_index"} |
| s001_applduplicatecheck   | Only default index (_id_)                      |
| c043                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0024":1},"name":"d0024"}, {"v":2,"key":{"d0018":1,"d0023":1,"d0001":1,"d0009":1},"name":"merchant_run_record_creditAcc_idx"}, {"v":2,"key":{"d0018":1,"d0023":1,"d0001":1,"d0006":1},"name":"merchant_run_record_debitAcc_idx"}, {"v":2,"key":{"d0018":1,"d0023":1,"d0001":1,"d0009":1,"d0013":1},"name":"merchant_run_record_creditAcc_paymentRef_idx"}, {"v":2,"key":{"d0002":1},"name":"d0002"}, {"v":2,"key":{"d0003":1},"name":"d0003"}, {"v":2,"key":{"d0013":1},"name":"d0013"} |
| c400_FRI_16_20            | Only default index (_id_)                      |
| c042                      | Only default index (_id_)                      |
| c030                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0002":1,"d0003":1},"name":"type_key1_idx"}, {"v":2,"key":{"d0002":1,"d0004":1},"name":"type_key2_idx"}, {"v":2,"key":{"d0002":1,"d0003":1,"allianceOrgKey":1},"name":"type_key1_ao_idx"}, {"v":2,"key":{"d0002":1,"d0004":1,"allianceOrgKey":1},"name":"type_key2__ao_idx"}, {"v":2,"key":{"d0002":1},"name":"d0002"}, {"v":2,"key":{"d0003":1},"name":"d0003"} |
| c300                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d1":1,"d2":1},"name":"recordKey_type_idx"}, {"v":2,"key":{"d2":1},"name":"d2"} |
| c059                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"p1":1,"p9":1,"taluk":1,"p11":1},"name":"c38consumerterminal_ao_idx"}, {"v":2,"key":{"p1":1,"taluk":1,"p11":1},"name":"c38merchantnumber_ao_idx"}, {"v":2,"key":{"p1":1},"name":"p1"}, {"v":2,"key":{"p8":1},"name":"p8"}, {"v":2,"key":{"p11":1},"name":"p11"}, {"v":2,"key":{"p12":1},"name":"p12"} |
| c096                      | Only default index (_id_)                      |
| c201                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0005":1,"d0009":1},"name":"c201rrn_arn_idx"}, {"v":2,"key":{"d0005":1,"d0025":1},"name":"c201rrn_invoice_idx"}, {"v":2,"key":{"d0005":1,"d0022":1},"name":"c201rrn_cwhtid_idx"}, {"v":2,"key":{"d0005":1},"name":"d0005"}, {"v":2,"key":{"d0009":1},"name":"d0009"}, {"v":2,"key":{"d0008.d068":1},"name":"d0008.d068"}, {"v":2,"key":{"d0008.d0097":1},"name":"d0008.d0097"} |
| c050                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"s0041":1},"name":"s0041"}, {"v":2,"key":{"s0043":1},"name":"s0043"}, {"v":2,"key":{"mec0003.c11":1},"name":"mec0003.c11"} |
| c034                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0001":1,"d0002":1},"name":"c034fromCurrency_toCurrency_idx"} |
| c206                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"f0007":1},"name":"f0007"}, {"v":2,"key":{"f0056":1},"name":"f0056"}, {"v":2,"key":{"f0057":1},"name":"f0057"} |
| s001_reject               | Only default index (_id_)                      |
| cs001                     | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"cs001":1},"name":"cs001"}, {"v":2,"key":{"cs002":1},"name":"cs002"}, {"v":2,"key":{"cs003":1},"name":"cs003"}, {"v":2,"key":{"cs004":1},"name":"cs004"}, {"v":2,"key":{"cs005":1},"name":"cs005"}, {"v":2,"key":{"cs140":1},"name":"cs140"}, {"v":2,"key":{"cs217.f0007":1},"name":"cs217.f0007"}, {"v":2,"key":{"cs217.f0056":1},"name":"cs217.f0056"}, {"v":2,"key":{"cs217.f0057":1},"name":"cs217.f0057"}, {"v":2,"key":{"cs218.d0024":1},"name":"cs218.d0024"}, {"v":2,"key":{"cs005":1,"cs140":1},"name":"rrn_arn_idx"}, {"v":2,"key":{"cs019":1},"name":"cs019"}, {"v":2,"key":{"cs218.merchantModelKey":1,"cs218.runNumber":1,"cs218.recordIdentifier":1,"cs218.creditAccNum":1},"name":"cs218.merchant_run_record_creditAcc_idx"}, {"v":2,"key":{"cs218.merchantModelKey":1,"cs218.runNumber":1,"cs218.recordIdentifier":1,"cs218.debitAccNum":1},"name":"cs218.merchant_run_record_debitAcc_idx"}, {"v":2,"key":{"cs218.merchantModelKey":1,"cs218.runNumber":1,"cs218.recordIdentifier":1,"cs218.creditAccNum":1,"cs218.paymentRefNum":1},"name":"cs218.merchant_run_record_creditAcc_paymentRef_idx"}, {"v":2,"key":{"cs218.d0002":1},"name":"cs218.d0002"}, {"v":2,"key":{"cs218.d0003":1},"name":"cs218.d0003"}, {"v":2,"key":{"cs218.d0013":1},"name":"cs218.d0013"}, {"v":2,"key":{"cs219.p008":1},"name":"cs219.p008"} |
| c400_FRI_20_24            | Only default index (_id_)                      |
| c205                      | Only default index (_id_)                      |
| c013                      | Only default index (_id_)                      |
| c400_MON_04_08            | Only default index (_id_)                      |
| c027                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0002":1},"name":"d0002"}, {"v":2,"key":{"d0003":1},"name":"d0003"}, {"v":2,"key":{"d0004":1},"name":"d0004"}, {"v":2,"key":{"d0005":1},"name":"d0005"}, {"v":2,"key":{"d0006":1},"name":"d0006"}, {"v":2,"key":{"d0007":1},"name":"d0007"} |
| c014                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"m1":-1},"name":"m1","unique":true} |
| c033                      | Only default index (_id_)                      |
| c035                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"f0021":1,"allianceOrgKey":1},"name":"merchantkey_ao_idx"}, {"v":2,"key":{"f0010":1,"f0062":1},"name":"merchantID_notificationRequired_idx"}, {"v":2,"key":{"f0027":1,"f0058":1},"name":"terminalModelKey_apiUser_idx"}, {"v":2,"key":{"f0010":1},"name":"f0010"}, {"v":2,"key":{"f0021":1},"name":"f0021"}, {"v":2,"key":{"f0027":1},"name":"f0027"}, {"v":2,"key":{"f0008":1},"name":"f0008"}, {"v":2,"key":{"f0009":1},"name":"f0009"}, {"v":2,"key":{"f0013":1},"name":"f0013"}, {"v":2,"key":{"f0033":1},"name":"f0033"} |
| cs020                     | Only default index (_id_)                      |
| c400_SAT_08_12            | Only default index (_id_)                      |
| s001_communicationlog     | Only default index (_id_)                      |
| c400_TUE_12_16            | Only default index (_id_)                      |
| c400_FRI_08_12            | Only default index (_id_)                      |
| c041                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"p008":1},"name":"p008"} |
| s001_applicationlead      | Only default index (_id_)                      |
| s001_service_request      | Only default index (_id_)                      |
| c011                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"p1":1},"name":"p1"}, {"v":2,"key":{"p8":1},"name":"p8"}, {"v":2,"key":{"p11":1},"name":"p11"}, {"v":2,"key":{"p12":1},"name":"p12"}, {"v":2,"key":{"p1":1,"p9":1,"taluk":1,"p11":1},"name":"pincode_division_taluk_state_idx"}, {"v":2,"key":{"p1":1,"taluk":1,"p11":1},"name":"pincode_taluk_state_idx"} |
| c028_TUE                  | Only default index (_id_)                      |
| c090                      | Only default index (_id_)                      |
| c031                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"c11":1},"name":"c11"} |
| c017                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0104":1},"name":"d0104"}, {"v":2,"key":{"d0127":1},"name":"d0127"}, {"v":2,"key":{"d0166":1},"name":"d0166"}, {"v":2,"key":{"f0036":1},"name":"f0036"} |
| c029                      | Only default index (_id_)                      |
| c400_FRI_04_08            | Only default index (_id_)                      |
| s001_posting_tl_upd       | Only default index (_id_)                      |
| c023                      | Only default index (_id_)                      |
| transaction_entries       | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"terminal_model_key":1},"name":"terminal_model_key"}, {"v":2,"key":{"terminal_number":1},"name":"terminal_number"}, {"v":2,"key":{"merchant_model_key":1},"name":"merchant_model_key"}, {"v":2,"key":{"merchant_number":1},"name":"merchant_number"}, {"v":2,"key":{"rrn":1},"name":"rrn"}, {"v":2,"key":{"arn":1},"name":"arn"} |
| dm001                     | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"dm003":1},"name":"dm003"} |
| c068                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d010":1,"d001":1},"name":"c68statusReportId"} |
| c016                      | Only default index (_id_)                      |
| c002                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"f0027":1},"name":"f0027"}, {"v":2,"key":{"f0029":1},"name":"f0029"}, {"v":2,"key":{"f0008":1},"name":"f0008"}, {"v":2,"key":{"f0009":1},"name":"f0009"}, {"v":2,"key":{"f0013":1},"name":"f0013"} |
| cs018                     | Only default index (_id_)                      |
| s001_trace_request_response | Only default index (_id_)                      |
| c067                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"bm001":1},"name":"bm001"}, {"v":2,"key":{"bm016":1},"name":"bm016"} |
| c072                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0001":1},"name":"d0001","unique":true}, {"v":2,"key":{"d0015.e9":1},"name":"d0015.e9"} |
| c028_THU                  | Only default index (_id_)                      |
| c801                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0001":1},"name":"d0001"}, {"v":2,"key":{"d0002":1},"name":"d0002"} |
| gl001                     | Only default index (_id_)                      |
| cs002                     | Only default index (_id_)                      |
| c019                      | Only default index (_id_)                      |
| s001_crossreference       | Only default index (_id_)                      |
| c022                      | Only default index (_id_)                      |
| s001_fileuploadrequest    | Only default index (_id_)                      |
| c045                      | Only default index (_id_)                      |
| c008                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0002":1,"d0003":1},"name":"type_value_idx"}, {"v":2,"key":{"d0003":1},"name":"d0003"} |
| c074                      | Only default index (_id_)                      |
| c400_MON_12_16            | Only default index (_id_)                      |
| c400_MON_16_20            | Only default index (_id_)                      |
| s001_payment_link         | Only default index (_id_)                      |
| c400_THU_04_08            | Only default index (_id_)                      |
| c400_WED_16_20            | Only default index (_id_)                      |
| dm004                     | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"m001":1},"name":"m001"} |
| c084                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"c2":1},"name":"c2"} |
| s001_blacklisted_pincode  | Only default index (_id_)                      |
| c087                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"i3":1},"name":"i3"}, {"v":2,"key":{"i8":1},"name":"i8"}, {"v":2,"key":{"i10":1},"name":"i10"} |
| c089                      | Only default index (_id_)                      |
| s001_merchantapplication  | Only default index (_id_)                      |
| c062                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0001":1},"name":"d0001"} |
| c037                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"f0007":1},"name":"f0007"}, {"v":2,"key":{"f0056":1},"name":"f0056"}, {"v":2,"key":{"f0057":1},"name":"f0057"}, {"v":2,"key":{"f0056":1,"f0044":1},"name":"transaction_refnum_terminal_number_idx"}, {"v":2,"key":{"f0056":1,"f0044":1,"f0027":1,"f0023":1,"f0026":1},"name":"txn_refnum_terminal_cardbin_last4_txntime_idx"}, {"v":2,"key":{"f0056":1,"f0044":1,"f0049":1,"f0026":1},"name":"txn_refnum_terminal_txnid_txntime_idx"}, {"v":2,"key":{"f0056":1,"f0044":1,"f0001":1},"name":"txn_refnum_terminal_trancode_idx"}, {"v":2,"key":{"f0045":1,"f0060":1,"pd073":1},"name":"merchant_run_dbOrcr_index"} |
| c400_TUE_16_20            | Only default index (_id_)                      |
| c093                      | Only default index (_id_)                      |
| c095                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"sw11":1},"name":"sw11"}, {"v":2,"key":{"sw13":1},"name":"sw13"} |
| c069                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d1":1},"name":"d1"} |
| c092                      | Only default index (_id_)                      |
| s001_service_directory    | Only default index (_id_)                      |
| c005                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0001":-1},"name":"d0001","unique":true} |
| c400_FRI_12_16            | Only default index (_id_)                      |
| c052                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"f0007":1},"name":"f0007"}, {"v":2,"key":{"f0056":1},"name":"f0056"}, {"v":2,"key":{"f0057":1},"name":"f0057"} |
| c015                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0001":1},"name":"d0001","unique":true} |
| c097                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"s4":1},"name":"s4"}, {"v":2,"key":{"s5":1},"name":"s5"} |
| c400_SUN_16_20            | Only default index (_id_)                      |
| c099                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0002":1,"d0003":1},"name":"type_key1_idx"}, {"v":2,"key":{"d0002":1,"d0004":1},"name":"type_key2_idx"}, {"v":2,"key":{"d0002":1,"d0003":1,"allianceOrgKey":1},"name":"type_key1_ao_idx"}, {"v":2,"key":{"d0002":1,"d0004":1,"allianceOrgKey":1},"name":"type_key2__ao_idx"}, {"v":2,"key":{"d0002":1},"name":"d0002"}, {"v":2,"key":{"d0003":1},"name":"d0003"} |
| c103                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0001.df2":1},"name":"d0001.df2"}, {"v":2,"key":{"d0001.df4":1},"name":"d0001.df4"}, {"v":2,"key":{"d0001":1},"name":"d0001"}, {"v":2,"key":{"d0006":1},"name":"d0006"} |
| c036                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0003":1},"name":"d0003"}, {"v":2,"key":{"d0004":1},"name":"d0004"}, {"v":2,"key":{"d0005":1},"name":"d0005"}, {"v":2,"key":{"d0007":1},"name":"d0007"}, {"v":2,"key":{"d0009":1},"name":"d0009"}, {"v":2,"key":{"d0012":1},"name":"d0012"}, {"v":2,"key":{"d0018":1},"name":"d0018"}, {"v":2,"key":{"d0020":1},"name":"d0020"}, {"v":2,"key":{"d0024":1},"name":"d0024"}, {"v":2,"key":{"d0027":1},"name":"d0027"}, {"v":2,"key":{"d0031":1},"name":"d0031"}, {"v":2,"key":{"d0033":1},"name":"d0033"}, {"v":2,"key":{"d0034":1},"name":"d0034"}, {"v":2,"key":{"d0006":1},"name":"d0006"}, {"v":2,"key":{"d0013":1},"name":"d0013"}, {"v":2,"key":{"d0014":1},"name":"d0014"} |
| s001_terminal_auth_tracker | Only default index (_id_)                      |
| s001_merchantdemographics | Only default index (_id_)                      |
| c028_MON                  | Only default index (_id_)                      |
| c091                      | Only default index (_id_)                      |
| c063                      | Only default index (_id_)                      |
| c009                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d0002":1},"name":"d0002"}, {"v":2,"key":{"d0012":1},"name":"d0012"}, {"v":2,"key":{"d0013":1},"name":"d0013"}, {"v":2,"key":{"d0149":1},"name":"d0149"}, {"v":2,"key":{"d0096":1},"name":"d0096"} |
| c038                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"d083":1,"allianceOrgKey":1},"name":"c38consumerterminal_ao_idx"}, {"v":2,"key":{"d0040":1,"allianceOrgKey":1},"name":"c38merchantnumber_ao_idx"}, {"v":2,"key":{"d0002":1},"name":"d0002"}, {"v":2,"key":{"d0040":1},"name":"d0040"}, {"v":2,"key":{"d0054":1},"name":"d0054"}, {"v":2,"key":{"d083":1},"name":"d083"}, {"v":2,"key":{"d095":1},"name":"d095"} |
| c010                      | {"v":2,"key":{"_id":1},"name":"_id_"}, {"v":2,"key":{"j2":1},"name":"j2"} |
| c400_FRI_00_04            | Only default index (_id_)                      |
| c020                      | Only default index (_id_)                      |
| s001_bin                  | Only default index (_id_)                      |
| c028_SUN                  | Only default index (_id_)                      |
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Slow Queries :
touadmin@mongodb-02:~$ --------------
touadmin@mongodb-02:~$ mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval "
>     db.currentOp().inprog.map(op => ({
>         host: op.host,
>         desc: op.desc,
>         connectionId: op.connectionId,
>         client: op.client,
>         opid: op.opid,
>         secs_running: op.secs_running,
>         op: op.op,
>         ns: op.ns,
>         command: op.command,
>         locks: op.locks || {},
>         waitingForLock: op.waitingForLock || false,
>         lockStats: op.lockStats || {},
>     })).forEach(function(op) {
>         // Print the header once
>         if (op === db.currentOp().inprog[0]) {
>             print('| Host                  | Desc            | ConnectionId | Client       | Opid | Secs Running | Op   | Ns  | Command          | Locks     | Waiting for Lock | Lock Stats |');
>             print('|-----------------------|-----------------|--------------|--------------|------|--------------|------|-----|------------------|-----------|-------------------|------------|');
>         }
>         var formattedOp = [
>             op.host.padEnd(23, ' '),
>             op.desc.padEnd(15, ' '),
>             String(op.connectionId).padEnd(14, ' '),
>             (op.client || '').padEnd(12, ' '),
>             String(op.opid).padEnd(5, ' '),
>             String(op.secs_running).padEnd(12, ' '),
>             op.op.padEnd(6, ' '),
>             op.ns.padEnd(4, ' '),
>             JSON.stringify(op.command).padEnd(18, ' '),  // Full command data
>             JSON.stringify(op.locks).padEnd(10, ' '),   // Full locks data
>             String(op.waitingForLock).padEnd(18, ' '),
>             JSON.stringify(op.lockStats).padEnd(10, ' ')  // Full lockStats data
>         ];
>         print('| ' + formattedOp.join(' | ') + ' |');
>     });
> "
| mongodb-02:27017        | conn260419      | 260419         | 192.168.61.69:9367 | 153965897 | 9            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn265299      | 265299         | 127.0.0.1:50440 | 153972944 | 5            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin","$readPreference":{"mode":"primaryPreferred"}} | {}         | false              | {}         |
| mongodb-02:27017        | conn260079      | 260079         | 192.168.61.70:4335 | 153982565 | 0            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260509      | 260509         | 192.168.61.70:59169 | 153971772 | 6            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn264937      | 264937         | 192.168.62.39:60770 | 153965304 | 9            | command | admin.$cmd | {"hello":1,"maxAwaitTimeMS":10000,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"$clusterTime":{"clusterTime":{"$timestamp":"7475581962430709761"},"signature":{"hash":"uZqTwpY2nDLHP8F54BlxMtIngpU=","keyId":{"low":1,"high":1726979222,"unsigned":false}}},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260106      | 260106         | 192.168.61.69:26097 | 153981275 | 0            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn7           | 7              | 192.168.61.39:52564 | 153965425 | 9            | command | admin.$cmd | {"hello":1,"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"internalClient":{"minWireVersion":21,"maxWireVersion":21},"maxTimeMSOpOnly":{"low":20000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260496      | 260496         | 192.168.61.70:35152 | 153966858 | 8            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260429      | 260429         | 192.168.61.70:40081 | 153974801 | 4            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | OplogApplier-0  | undefined      |              | 153982929 | undefined    | none   |      | {}                 | {}         | false              | {}         |
| mongodb-02:27017        | conn260493      | 260493         | 192.168.61.70:55632 | 153966808 | 8            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | NoopWriter      | undefined      |              | 153970379 | undefined    | none   |      | {}                 | {}         | false              | {}         |
| mongodb-02:27017        | conn260575      | 260575         | 192.168.61.70:50319 | 153968900 | 7            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | OplogCapMaintainerThread-local.oplog.rs | undefined      |              | 12    | undefined    | none   |      | {}                 | {}         | false              | {"FeatureCompatibilityVersion":{"acquireCount":{"w":{"low":1,"high":0,"unsigned":false}}},"ReplicationStateTransition":{"acquireCount":{"w":{"low":1,"high":0,"unsigned":false}}},"Global":{"acquireCount":{"w":{"low":1,"high":0,"unsigned":false}}}} |
| mongodb-02:27017        | conn265021      | 265021         | 127.0.0.1:41776 | 153976012 | 3            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin","$readPreference":{"mode":"primaryPreferred"}} | {}         | false              | {}         |
| mongodb-02:27017        | conn260627      | 260627         | 192.168.61.70:19786 | 153975029 | 4            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260418      | 260418         | 192.168.61.69:4104 | 153974784 | 4            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260619      | 260619         | 192.168.61.69:60973 | 153968329 | 7            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260581      | 260581         | 192.168.61.70:15363 | 153968222 | 7            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | JournalFlusher  | undefined      |              | 153982887 | undefined    | none   |      | {}                 | {}         | false              | {}         |
| mongodb-02:27017        | conn261145      | 261145         | 192.168.61.69:41679 | 153978628 | 2            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260084      | 260084         | 192.168.61.70:21542 | 153970100 | 6            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260066      | 260066         | 192.168.61.69:31882 | 153976396 | 3            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260086      | 260086         | 192.168.61.69:9164 | 153968388 | 7            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260435      | 260435         | 192.168.61.70:52875 | 153966518 | 8            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260538      | 260538         | 192.168.61.69:62911 | 153976675 | 3            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260438      | 260438         | 192.168.61.70:52130 | 153978392 | 2            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260616      | 260616         | 192.168.61.69:49414 | 153978438 | 2            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260068      | 260068         | 192.168.61.69:55322 | 153980324 | 1            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn259006      | 259006         | 192.168.61.38:37036 | 153979795 | 1            | getmore | local.oplog.rs | {"getMore":{"low":-1599240742,"high":1238125352,"unsigned":false},"collection":"oplog.rs","batchSize":{"low":13981010,"high":0,"unsigned":false},"maxTimeMS":{"low":5000,"high":0,"unsigned":false},"term":{"low":13,"high":0,"unsigned":false},"lastKnownCommittedOpTime":{"ts":{"$timestamp":"7475039666975014913"},"t":{"low":13,"high":0,"unsigned":false}},"$replData":1,"$oplogQueryData":1,"$readPreference":{"mode":"secondaryPreferred"},"$clusterTime":{"clusterTime":{"$timestamp":"7475039709924687873"},"signature":{"hash":"7hjJ6z0PBHOFczen0bDe+tMomiU=","keyId":{"low":1,"high":1726979222,"unsigned":false}}},"$db":"local"} | {}         | false              | {"FeatureCompatibilityVersion":{"acquireCount":{"r":{"low":2,"high":0,"unsigned":false}}},"Global":{"acquireCount":{"r":{"low":2,"high":0,"unsigned":false}}}} |
| mongodb-02:27017        | conn260102      | 260102         | 192.168.61.69:58582 | 153975838 | 3            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn264936      | 264936         | 192.168.62.39:60771 | 153965064 | 9            | command | admin.$cmd | {"hello":1,"maxAwaitTimeMS":10000,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"$clusterTime":{"clusterTime":{"$timestamp":"7475581962430709761"},"signature":{"hash":"uZqTwpY2nDLHP8F54BlxMtIngpU=","keyId":{"low":1,"high":1726979222,"unsigned":false}}},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn259000      | 259000         | 192.168.61.68:60744 | 153965302 | 9            | command | admin.$cmd | {"hello":1,"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"internalClient":{"minWireVersion":21,"maxWireVersion":21},"maxTimeMSOpOnly":{"low":20000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260093      | 260093         | 192.168.61.69:39610 | 153970083 | 6            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260114      | 260114         | 192.168.61.69:48106 | 153979919 | 1            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260422      | 260422         | 192.168.61.69:32339 | 153982957 | 0            | query  | touprd.c000 | {"find":"c000","filter":{"_id":"3"},"limit":1,"singleBatch":true,"$db":"touprd","$clusterTime":{"clusterTime":{"$timestamp":"7475590724163993601"},"signature":{"hash":"pH+T3mTBoYDt6Go93oc0ok0u6Zc=","keyId":{"low":1,"high":1726979222,"unsigned":false}}},"lsid":{"id":"6c1713a2-36d3-468f-be9c-a33ac49aa2b0"}} | {}         | false              | {"FeatureCompatibilityVersion":{"acquireCount":{"r":{"low":1,"high":0,"unsigned":false}}},"Global":{"acquireCount":{"r":{"low":1,"high":0,"unsigned":false}}}} |
| mongodb-02:27017        | conn260536      | 260536         | 192.168.61.69:20893 | 153968399 | 7            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260623      | 260623         | 192.168.61.70:48400 | 153974954 | 4            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn265310      | 265310         | 127.0.0.1:50514 | 153982958 | 0            | command | admin.$cmd.aggregate | {"aggregate":1,"pipeline":[{"$currentOp":{"allUsers":true,"idleConnections":false,"truncateOps":false}},{"$match":{}}],"cursor":{},"lsid":{"id":"80cafe89-db47-447b-9b13-b64caa793fad"},"$clusterTime":{"clusterTime":{"$timestamp":"7475590724163993601"},"signature":{"hash":"pH+T3mTBoYDt6Go93oc0ok0u6Zc=","keyId":{"low":1,"high":1726979222,"unsigned":false}}},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn69946       | 69946          | 192.168.61.38:46170 | 153966289 | 8            | command | admin.$cmd | {"hello":1,"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"internalClient":{"minWireVersion":21,"maxWireVersion":21},"maxTimeMSOpOnly":{"low":20000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260511      | 260511         | 192.168.61.70:33517 | 153972482 | 5            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260101      | 260101         | 192.168.61.69:54777 | 153964923 | 9            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | conn260107      | 260107         | 192.168.61.69:21174 | 153975013 | 4            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
| mongodb-02:27017        | Checkpointer    | undefined      |              | 153939939 | undefined    | none   |      | {}                 | {}         | false              | {}         |
| mongodb-02:27017        | conn260427      | 260427         | 192.168.61.70:28342 | 153971595 | 6            | command | admin.$cmd | {"hello":1,"helloOk":true,"topologyVersion":{"processId":"67a9aec1783be4e8b0b2fd8e","counter":{"low":7,"high":0,"unsigned":false}},"maxAwaitTimeMS":{"low":10000,"high":0,"unsigned":false},"$db":"admin"} | {}         | false              | {}         |
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Replication Lag :
touadmin@mongodb-02:~$ -----------------
touadmin@mongodb-02:~$ mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval "
>     var status = rs.status();
>     print(' --------------------------------------------------------------------------------------------------');
> print('| Member Name            | Last Heartbeat         | Optime Date            | Replication Lag (ms) |');
>     print('|------------------------|------------------------|------------------------|----------------------|');
> print(' --------------------------------------------------------------------------------------------------');
>     status.members.forEach(function(member) {
>         if (member.stateStr === 'SECONDARY') {
>             var lag = new Date() - member.optimeDate;  // Calculate lag in milliseconds
>             print('| ' + member.name.padEnd(22, ' ') +
>                   '| ' + member.lastHeartbeat.toISOString().padEnd(22, ' ') +
>                   '| ' + member.optimeDate.toISOString().padEnd(22, ' ') +
>                   '| ' + String(lag).padStart(20, ' ') + ' |');
> print(' --------------------------------------------------------------------------------------------------');
>         }
>     });
> "
 --------------------------------------------------------------------------------------------------
| Member Name            | Last Heartbeat         | Optime Date            | Replication Lag (ms) |
|------------------------|------------------------|------------------------|----------------------|
 --------------------------------------------------------------------------------------------------
| 192.168.61.38:27017   | 2025-02-26T05:19:20.755Z| 2025-02-26T05:19:20.000Z|                 2384 |
 --------------------------------------------------------------------------------------------------
| 192.168.61.68:27017   | 2025-02-26T05:19:22.075Z| 2025-02-26T05:19:20.000Z|                 2385 |
 --------------------------------------------------------------------------------------------------
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Replication Queue Size :
touadmin@mongodb-02:~$ ------------------------
touadmin@mongodb-02:~$ mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval "
>   var oplogStats = db.getSiblingDB('local').oplog.rs.stats();
>   print('Oplog Size: ' + oplogStats.size);
>   print('Oplog Max Size: ' + oplogStats.maxSize);
> "
Oplog Size: 4538920887
Oplog Max Size: 4551915520
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Active Connections
touadmin@mongodb-02:~$ ------------------
touadmin@mongodb-02:~$ mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval 'db.serverStatus().connections'
{
  current: 109,
  available: 51091,
  totalCreated: 261243,
  rejected: 0,
  active: 39,
  threaded: 109,
  exhaustIsMaster: 0,
  exhaustHello: 36,
  awaitingTopologyChanges: 37
}
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Op Counters (Operations) :
touadmin@mongodb-02:~$ --------------------------
touadmin@mongodb-02:~$  mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval 'db.serverStatus().opcounters'
{
  insert: Long('2488'),
  query: Long('123743070'),
  update: Long('2479'),
  delete: Long('758'),
  getmore: Long('48586'),
  command: Long('13911456')
}
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Backup :
touadmin@mongodb-02:~$ ----------------
touadmin@mongodb-02:~$ du -sh /mongo/backup/dump/touprd/
5.0G    /mongo/backup/dump/touprd/
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ CPU Usage :
touadmin@mongodb-02:~$ -----------
touadmin@mongodb-02:~$ top
top - 11:25:16 up 15 days, 22:09,  3 users,  load average: 1.07, 0.88, 0.80
Tasks: 251 total,   1 running, 250 sleeping,   0 stopped,   0 zombie
%Cpu(s): 33.3 us,  7.2 sy,  0.0 ni, 59.4 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
MiB Mem :  15997.4 total,    594.0 free,   6725.8 used,   8677.6 buff/cache
MiB Swap:   4096.0 total,   4095.0 free,      1.0 used.   8932.0 avail Mem

    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
 936695 root      20   0 1721936 420948  17624 S  87.5   2.6  23:41.49 mongodb_exporte
    932 mongodb   20   0 8937704   5.6g  82528 S  56.2  35.8 786:16.87 mongod
 940363 touadmin  20   0    9380   4028   3232 R   6.2   0.0   0:00.02 top
      1 root      20   0  171524  12544   7868 S   0.0   0.1   0:41.17 systemd
      2 root      20   0       0      0      0 S   0.0   0.0   0:02.72 kthreadd
      3 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_gp
      4 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_par_gp
      6 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 kworker/0:0H-kblockd
      8 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 mm_percpu_wq
      9 root      20   0       0      0      0 S   0.0   0.0   0:24.02 ksoftirqd/0
     10 root      20   0       0      0      0 I   0.0   0.0  14:17.40 rcu_sched
     11 root      rt   0       0      0      0 S   0.0   0.0   0:03.57 migration/0
     12 root     -51   0       0      0      0 S   0.0   0.0   0:00.00 idle_inject/0
     14 root      20   0       0      0      0 S   0.0   0.0   0:00.00 cpuhp/0
     15 root      20   0       0      0      0 S   0.0   0.0   0:00.00 cpuhp/1
     16 root     -51   0       0      0      0 S   0.0   0.0   0:00.00 idle_inject/1
     17 root      rt   0       0      0      0 S   0.0   0.0   0:03.67 migration/1
     18 root      20   0       0      0      0 S   0.0   0.0   0:05.86 ksoftirqd/1
     20 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 kworker/1:0H-kblockd
     21 root      20   0       0      0      0 S   0.0   0.0   0:00.00 cpuhp/2
     22 root     -51   0       0      0      0 S   0.0   0.0   0:00.00 idle_inject/2
     23 root      rt   0       0      0      0 S   0.0   0.0   0:03.65 migration/2
     24 root      20   0       0      0      0 S   0.0   0.0   0:03.65 ksoftirqd/2
     26 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 kworker/2:0H-kblockd
     27 root      20   0       0      0      0 S   0.0   0.0   0:00.00 cpuhp/3
     28 root     -51   0       0      0      0 S   0.0   0.0   0:00.00 idle_inject/3
     29 root      rt   0       0      0      0 S   0.0   0.0   0:03.53 migration/3
     30 root      20   0       0      0      0 S   0.0   0.0   0:04.86 ksoftirqd/3
     32 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 kworker/3:0H-kblockd
     33 root      20   0       0      0      0 S   0.0   0.0   0:00.00 kdevtmpfs
     34 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 netns
     35 root      20   0       0      0      0 S   0.0   0.0   0:00.00 rcu_tasks_kthre
     36 root      20   0       0      0      0 S   0.0   0.0   0:00.00 kauditd
     37 root      20   0       0      0      0 S   0.0   0.0   0:01.74 khungtaskd
     38 root      20   0       0      0      0 S   0.0   0.0   0:00.00 oom_reaper
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Memory Usage :
touadmin@mongodb-02:~$ -----------------
touadmin@mongodb-02:~$ top -p $(pgrep -d',' mongod)
top - 11:29:59 up 15 days, 22:14,  3 users,  load average: 0.78, 0.85, 0.82
Tasks:   2 total,   0 running,   2 sleeping,   0 stopped,   0 zombie
%Cpu(s):  3.4 us,  3.4 sy,  0.0 ni, 91.5 id,  0.0 wa,  0.0 hi,  1.7 si,  0.0 st
MiB Mem :  15997.4 total,    555.9 free,   6750.5 used,   8691.1 buff/cache
MiB Swap:   4096.0 total,   4095.0 free,      1.0 used.   8907.4 avail Mem

    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
    932 mongodb   20   0 8951040   5.6g  82528 S  40.0  36.1 788:23.86 mongod
 936695 root      20   0 1721936 400088  17624 S   0.0   2.4  25:47.57 mongodb_exporte

































touadmin@mongodb-02:~$ Disk I/O :
touadmin@mongodb-02:~$ -----------
touadmin@mongodb-02:~$ iostat -d 1
Linux 5.4.0-205-generic (mongodb-02)    02/26/2025      _x86_64_        (4 CPU)

Device             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd
loop0             0.00         0.00         0.00         0.00        359          0          0
loop1             0.00         0.00         0.00         0.00       2497          0          0
loop2             0.00         0.00         0.00         0.00       1757          0          0
loop3             0.00         0.00         0.00         0.00       1031          0          0
loop4             0.00         0.00         0.00         0.00       1785          0          0
loop5             0.02         0.02         0.00         0.00      26612          0          0
loop6             0.00         0.00         0.00         0.00       1046          0          0
sda               2.28         1.14        18.47        69.56    1564497   25415152   95719684


Device             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd
loop0             0.00         0.00         0.00         0.00          0          0          0
loop1             0.00         0.00         0.00         0.00          0          0          0
loop2             0.00         0.00         0.00         0.00          0          0          0
loop3             0.00         0.00         0.00         0.00          0          0          0
loop4             0.00         0.00         0.00         0.00          0          0          0
loop5             0.00         0.00         0.00         0.00          0          0          0
loop6             0.00         0.00         0.00         0.00          0          0          0
sda               0.00         0.00         0.00         0.00          0          0          0


touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Log File Size :
touadmin@mongodb-02:~$ ---------------
touadmin@mongodb-02:~$ du -sh /mongo/logs/mongod.log
9.1G    /mongo/logs/mongod.log
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Network I/O :
touadmin@mongodb-02:~$ ----------------
touadmin@mongodb-02:~$ netstat -i
Kernel Interface table
Iface      MTU    RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg
ens160    1500 196447166      0 714403 0      180863112      0      0      0 BMRU
lo       65536 15496761      0      0 0      15496761      0      0      0 LRU
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Page Faults :
touadmin@mongodb-02:~$ -------------
touadmin@mongodb-02:~$ mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval 'db.serverStatus().extra_info.page_faults'
Long('675')
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Cache Utilization :
touadmin@mongodb-02:~$ --------------------
touadmin@mongodb-02:~$  mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval '
>   const cache = db.serverStatus().wiredTiger.cache;
>   const result = {
>     "bytes currently in the cache": cache["bytes currently in the cache"],
>     "bytes read into cache": cache["bytes read into cache"],
>     "bytes written from cache": cache["bytes written from cache"],
>     "maximum cache size": cache["maximum cache size"],
>     "cache overflowed": cache["cache overflowed"],
>     "eviction": cache["eviction"] ? {
>       "evictions": cache["eviction"]["evictions"],
>       "eviction passes": cache["eviction"]["eviction passes"]
>     } : {
>       "evictions": 0,
>       "eviction passes": 0
>     },
>     "tracked dirty bytes in cache": cache["tracked dirty bytes in cache"]
>   };
>   printjson(result);
> '
{
  'bytes currently in the cache': Long('6078293759'),
  'bytes read into cache': Long('5796061140'),
  'bytes written from cache': Long('60691544101'),
  'maximum cache size': undefined,
  'cache overflowed': undefined,
  eviction: {
    evictions: 0,
    'eviction passes': 0
  },
  'tracked dirty bytes in cache': undefined
}
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Uptime :
touadmin@mongodb-02:~$ -------------
touadmin@mongodb-02:~$ mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval 'db.serverStatus().uptime'
1376647
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Disk Space Usage :
touadmin@mongodb-02:~$ -------------------
touadmin@mongodb-02:~$ df -h | grep /mongo
192.168.63.143:/mongodb2/backup 1007G  355G  601G  38% /mongo/backup
192.168.63.143:/mongodb2/logs   1007G  355G  601G  38% /mongo/logs
192.168.63.143:/mongodb2/data   1007G  355G  601G  38% /mongo/data
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Operation Failures (Errors) :
touadmin@mongodb-02:~$ ----------------------------
touadmin@mongodb-02:~$ mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval 'db.currentOp().inprog.filter(op => op.errmsg && op.errmsg.includes("timeout")).map(op => op)'
[]
touadmin@mongodb-02:~$
touadmin@mongodb-02:~$ Timeouts :
touadmin@mongodb-02:~$ --------------
touadmin@mongodb-02:~$ mongosh -u superAdmin -p $mongopwd --authenticationDatabase admin --quiet --eval 'db.currentOp().inprog.filter(op => op.errmsg && (op.errmsg.includes("timeout") || op.errmsg.includes("operation exceeded time limit"))).map(op => op)'
[]
touadmin@mongodb-02:~$

